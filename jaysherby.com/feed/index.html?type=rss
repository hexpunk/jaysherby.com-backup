<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0">
  <channel>
    <title>Jay's blog</title>
    <link>https://jaysherby.com</link>
    <description>&lt;h1 style="font-weight: normal"&gt;&#13;
  Hi! I'm &lt;strong&gt;Jay Sherby&lt;/strong&gt;!&#13;
&lt;/h1&gt;&#13;
&#13;
I'm an experienced software developer in Chicago.&#13;
&#13;
Hiring? Check my rÃ©su...</description>
    <atom:link href="https://jaysherby.com/feed/?type=rss" rel="self" type="application/rss+xml"/>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>python-feedgen</generator>
    <item>
      <title>Good Boy, Bad Boy (1985) by Bruce Nauman</title>
      <link>https://jaysherby.com/good-boy-bad-boy-1985-by-bruce-nauman/</link>
      <description>&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/good-boy-bad-boy-1.webp" alt="" /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"Good Boy, Bad Boy" is the name of an installation artwork created by Bruce Nauman in 1985.&lt;/p&gt;
&lt;p&gt;Source: &lt;a href='https://www.artchive.com/artwork/good-boy-bad-boy-bruce-nauman-1985/'&gt;Artchive&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It features a 100-line poem written out in multicolored neon lights.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[T]he installation employs two actors, Joan Lancaster and Tucker Smallwood, who are presented in close-up, like newscasters, on two separate monitors.&lt;/p&gt;
&lt;p&gt;Source: &lt;a href='https://www.artic.edu/artworks/146915/good-boy-bad-boy'&gt;The Art Institute of Chicago&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Both actors recite the poem several times in a row, and the recordings loop.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Directly confronting the viewer, they deliver each repetition with increased emotional intensity, shifting in and out of sync with one another.&lt;/p&gt;
&lt;p&gt;Source: &lt;a href='https://www.artic.edu/artworks/146915/good-boy-bad-boy'&gt;The Art Institute of Chicago&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;At least that's how the artist intended the installation to be experienced. To the best of my knowledge, this exhibit is not currently on display, and I can't determine where the physical parts of the exhibit are located. I would relish the opportunity to see the installation as intended.&lt;/p&gt;
&lt;p&gt;All that remains are the video recordings, which have been published online both as &lt;a href='https://www.youtube.com/watch?v=R9BW2SraYeo'&gt;a combined work&lt;/a&gt; that approximates the experience of the installation and as &lt;a href='https://www.youtube.com/watch?v=peruMPJ0hYo'&gt;separate&lt;/a&gt; &lt;a href='https://www.youtube.com/watch?v=vZte908vYpw'&gt;videos&lt;/a&gt; of the two actors' performances.&lt;/p&gt;
&lt;p&gt;These recordings, especially &lt;a href='https://www.youtube.com/watch?v=peruMPJ0hYo'&gt;Joan Lancaster's performance&lt;/a&gt;, are how I became familiar with this installation. I was originally shown Joan's performance without any context, which made for an oddly compelling experience. Art is deeply subjective, so I can't explain why this particular piece resonated with me. Some of the lines of the poem have made their way into my everyday lexicon. The work is endlessly memeable without it becoming the butt of the meme, unlike so much other modern art.&lt;/p&gt;
&lt;h2 id=the-poem&gt;The poem&lt;/h2&gt;&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/good-boy-bad-boy-2.webp" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;Here's the text of the poem as written in neon, though the actors' recitations vary slightly.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1. I was a good boy
2. You were a good boy
3. We were good boys
4. That was good

5. I was a good girl
6. You were a good girl
7. We were good girls
8. That was good

9. I was a bad boy
10. You were a bad boy
11. We were bad boys
12. That was bad

13. I was a bad girl
14. You were a bad girl
15. We were bad girls
16. That was bad

17. I am a virtuous man
18. You are a virtuous man
19. We are virtuous men
20. This is virtue

21. I am a virtuous woman
22. You are a virtuous woman
23. We are virtuous women
24. This is virtue

25. I am an evil man
26. You are an evil man
27. We are evil men
28. This is evil

29. I am an evil woman
30. You are an evil woman
31. We are evil women
32. This is evil

33. I&amp;#39;m alive
34. You&amp;#39;re alive
35. We&amp;#39;re alive
36. This is our life

37. I live the good life
38. You live the good life
39. We live the good life
40. This is the good life

41. I have work
42. You have work
43. We have work
44. This is work

45. I play
46. You play
47. We play
48. This is play

49. I&amp;#39;m having fun
50. You&amp;#39;re having fun
51. We&amp;#39;re having fun
52. This is fun

53. I&amp;#39;m bored
54. You&amp;#39;re bored
55. We&amp;#39;re bored
56. Life is boring

57. I&amp;#39;m boring
58. You&amp;#39;re boring
59. We&amp;#39;re boring
60. This is boring

61. I have sex
62. You have sex
63. We have sex
64. This is sex

65. I love
66. You love
67. We love
68. This is our love

69. I hate
70. You hate
71. We hate
72. This is hating

73. I like to eat
74. You like to eat
75. We like to eat
76. This is eating

77. I like to drink
78. You like to drink
79. We like to drink
80. This is drinking

81. I (like to) shit
82. You (like to) shit
83. We (like to) shit
84. This is shit(ting)

85. I piss
86. You piss
87. We piss
88. This is piss

89. I like to sleep
90. You like to sleep
91. We like to sleep
92. Sleep well

93. I pay
94. You pay
95. We pay
96. This is payment

97. I don&amp;#39;t want to die
98. You don&amp;#39;t want to die
99. We don&amp;#39;t want to die
100. This is fear of death
&lt;/pre&gt;&lt;/div&gt;
&lt;hr /&gt;
&lt;p&gt;Portions of this post reproducing aspects of "Good Boy, Bad Boy" Â© 2018 Bruce Nauman / Artists Rights Society (ARS), New York&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/good-boy-bad-boy-1985-by-bruce-nauman/</guid>
      <category>art</category>
      <pubDate>Mon, 02 Feb 2026 04:56:00 +0000</pubDate>
    </item>
    <item>
      <title>Working Around A Kernel Regression in Debian 13</title>
      <link>https://jaysherby.com/working-around-a-kernel-regression-in-debian-13/</link>
      <description>&lt;p&gt;I did a routine update/upgrade on my home server that runs Debian 13 today and restarted the machine since there was a kernel update and... POW! Machine is no longer on the network. Serves me right for keeping up to date.&lt;/p&gt;
&lt;p&gt;A quick look around determined that &lt;code&gt;networking.service&lt;/code&gt; is failing because my network device doesn't exist. The logs confirm that the iwlwifi driver is having an oopsy.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: enabling device (0000 -&amp;gt; 0002)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Detected crf-id 0x2001910, cnv-id 0x2001910 wfpm id 0x80000000
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: PCI dev 272b/00f4, rev=0x472, rfid=0x112200
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Detected Intel(R) Wi-Fi 7 BE200 320MHz
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-102.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-102.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-102.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Direct firmware load for iwlwifi-gl-c0-fm-c0-102.ucode failed with error -2
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-101.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-101.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-101.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Direct firmware load for iwlwifi-gl-c0-fm-c0-101.ucode failed with error -2
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-100.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-100.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-100.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Direct firmware load for iwlwifi-gl-c0-fm-c0-100.ucode failed with error -2
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-99.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-99.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-99.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Direct firmware load for iwlwifi-gl-c0-fm-c0-99.ucode failed with error -2
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-98.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-98.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: firmware: failed to load iwlwifi-gl-c0-fm-c0-98.ucode (-2)
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: Direct firmware load for iwlwifi-gl-c0-fm-c0-98.ucode failed with error -2
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: no suitable firmware found!
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: minimum version required: iwlwifi-gl-c0-fm-c0-98
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: maximum version supported: iwlwifi-gl-c0-fm-c0-102
Dec 14 14:19:36 m910q kernel: iwlwifi 0000:01:00.0: check git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I rebooted and selected the previous kernel from the Grub boot menu and wifi works again. The old, working kernel is &lt;code&gt;linux-image-6.16.3+deb13-amd64&lt;/code&gt; whereas the new, broken kernel is &lt;code&gt;linux-image-6.17.8+deb13-amd64&lt;/code&gt;. Both are provided by the bookworm-backports package repository.&lt;/p&gt;
&lt;p&gt;A quick web search found &lt;a href='https://gitlab.archlinux.org/archlinux/packaging/packages/linux/-/issues/161'&gt;a lovely issue&lt;/a&gt; filed over at Arch Linux that describes the exact issue I'm experiencing. This bug is upstream in the kernel itself.&lt;/p&gt;
&lt;p&gt;This put me in a peculiar situation. I need to stay on the old kernel until this is fixed. In the meantime, I want to continue receiving new kernel versions when I update my system so I can test if the issue has been fixed. But until that happens, I want to continue using the known-working kernel.&lt;/p&gt;
&lt;p&gt;The solution I chose was to change my Grub configuration slightly. There's a line in &lt;code&gt;/etc/default/grub&lt;/code&gt; that looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;GRUB_DEFAULT=0
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That makes Grub boot with the first menu entry by default, which is the newest kernel. I changed it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#GRUB_DEFAULT=0
GRUB_DEFAULT=saved
GRUB_SAVEDEFAULT=true
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After running &lt;code&gt;sudo update-grub&lt;/code&gt;, Grub now remembers the last option I chose and uses that by default. I had to reboot one more time to choose the preferred kernel so it would remember after I changed this setting.&lt;/p&gt;
&lt;p&gt;This meets all of my desired criteria. As long as I don't uninstall &lt;code&gt;linux-image-6.16.3+deb13-amd64&lt;/code&gt;, I should be able to receive new kernel versions and test them at my leisure without worrying that any subsequent updates and reboots might make my system drop off the network again.&lt;/p&gt;
&lt;p&gt;Although experiencing a kernel regression is annoying, this is the first instance of a regression that has affected me personally in probably two decades. I'm happy it wasn't my fault. And I'm grateful it was easy to diagnose and work around it.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/working-around-a-kernel-regression-in-debian-13/</guid>
      <category>grub</category>
      <category>home server</category>
      <pubDate>Sun, 14 Dec 2025 23:18:14 +0000</pubDate>
    </item>
    <item>
      <title>I'm Restarting Plex Every 24 Hours Now</title>
      <link>https://jaysherby.com/im-restarting-plex-every-24-hours-now/</link>
      <description>&lt;p&gt;I only use Plex because the phone app and the PlayStation app make it convenient. If Jellyfin had a native app on PlayStation, I'd switch tomorrow. I already don't completely trust Plex, which is why I run it in a Podman container. If anything goes &lt;em&gt;really&lt;/em&gt; sideways, at least the blast radius should be minimized.&lt;/p&gt;
&lt;p&gt;Plex is also flaky. I find myself occasionally needing to SSH into my home server to restart Plex when the app can't connect to the server. No errors are ever logged from the server, and even if I went to the trouble of getting logs from the apps, I doubt I could really do anything to fix it. Plex and its apps are a black box to me. I treat them less like software and more like hermetically sealed appliances. And what do you do when a hermetically sealed appliance acts up? Power cycle it!&lt;/p&gt;
&lt;p&gt;As much as I'd prefer perfect appliances, sometimes the power cycle approach has to be good enough. Most home routers have settings in their UI nowadays to automatically power cycle themselves on a regular schedule. Even the expensive ones! Especially the expensive ones. My phone runs GrapheneOS, which has an option to automatically power cycle your phone after a set period of inactivity. In that case, it's because your phone is subtly more secure before it's been unlocked after a power cycle. Like it or not, "Have you tried turning it off and on again?" is now the way of the world.&lt;/p&gt;
&lt;p&gt;I'm currently in my systemd era. Sooner or later, systemd comes for us all. ðŸª¦ The path of least resistance seems to be a service and a timer to trigger that service.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/systemd/user/plex-restart.service&lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;Restart Plex container service&lt;/span&gt;
&lt;span class="na"&gt;Wants&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;plex.service&lt;/span&gt;
&lt;span class="na"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;plex.service&lt;/span&gt;

&lt;span class="k"&gt;[Service]&lt;/span&gt;
&lt;span class="na"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;oneshot&lt;/span&gt;
&lt;span class="na"&gt;ExecStart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/usr/bin/systemctl --user is-active --quiet plex.service &amp;amp;&amp;amp; /usr/bin/systemctl --user restart plex.service&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The service itself only attempts to restart the Plex service if the service is already active. If I should decide to manually stop the Plex service, I don't want this job to restart it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/systemd/user/plex-restart.timer&lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;Daily restart of Plex container service at 6 AM&lt;/span&gt;

&lt;span class="k"&gt;[Timer]&lt;/span&gt;
&lt;span class="na"&gt;OnCalendar&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;*-*-* 06:00:00&lt;/span&gt;
&lt;span class="na"&gt;Unit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;plex-restart.service&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;timers.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I have the timer set to go off every day at 6 AM because I can't imagine a situation where anyone in my household is using it at that time, so there shouldn't be any service interruption.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;daemon-reload

systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt;  &lt;/span&gt;plex-restart.timer
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And with that, I hopefully won't have to restart Plex manually any time soon. Sure, I could have tried to rig up a script that detects the server's health and restart it only when necessary. But remember that Plex is a black box. Just because my server can essentially ping itself doesn't mean other devices can reach it. No, an automatic power switch flipper should be good enough.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/im-restarting-plex-every-24-hours-now/</guid>
      <category>home server</category>
      <category>plex</category>
      <category>systemd</category>
      <pubDate>Sun, 09 Nov 2025 04:31:06 +0000</pubDate>
    </item>
    <item>
      <title>Auto Update Podman Quadlet Images</title>
      <link>https://jaysherby.com/auto-update-podman-quadlet-images/</link>
      <description>&lt;p&gt;I &lt;a href='https://jaysherby.com/from-docker-compose-to-quadlets/'&gt;recently&lt;/a&gt; wrote about moving from Docker Compose to Podman Quadlets. I haven't had any issues with the configuration so far, but I did make one change today.&lt;/p&gt;
&lt;p&gt;My old setup made it easy to pull newer versions of images when I wanted by running &lt;code&gt;docker compose down&lt;/code&gt; followed by &lt;code&gt;docker compose up --pull=always -d&lt;/code&gt; to actually pull new images and restart the services. It was a manual process, but it was easy.&lt;/p&gt;
&lt;p&gt;Today, I looked into how I'd accomplish the equivalent action for my Podman Quadlets. It turns out that Podman has a fancy way to do this more or less automatically.&lt;/p&gt;
&lt;p&gt;First, you must enable a systemd timer that Podman provides for doing automatic updates.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;enable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--now&lt;span class="w"&gt; &lt;/span&gt;podman-auto-update.timer
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that I'm enabling this timer &lt;em&gt;at the user level&lt;/em&gt;.  That's important since my Quadlets are also user level. The timer needs to run at the same level as the Quadlet services.&lt;/p&gt;
&lt;p&gt;Second, update the Quadlet files so that &lt;code&gt;AutoUpdate=registry&lt;/code&gt; is added in the &lt;code&gt;[Container]&lt;/code&gt; section of the file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/containers/systemd/plex.container&lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;Plex Media Server&lt;/span&gt;
&lt;span class="na"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;network.target&lt;/span&gt;

&lt;span class="k"&gt;[Container]&lt;/span&gt;
&lt;span class="na"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;lscr.io/linuxserver/plex:latest&lt;/span&gt;
&lt;span class="na"&gt;AutoUpdate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;registry&lt;/span&gt;

&lt;span class="na"&gt;Network&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt;
&lt;span class="na"&gt;UserNS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;keep-id&lt;/span&gt;

&lt;span class="na"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;TZ=America/Chicago&lt;/span&gt;
&lt;span class="na"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;VERSION=docker&lt;/span&gt;

&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/home/server-user/plex/config:/config:Z&lt;/span&gt;
&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/media/wd-gold/Television:/tv:Z&lt;/span&gt;
&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/media/wd-gold/Movies:/movies:Z&lt;/span&gt;

&lt;span class="na"&gt;AddDevice&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/dev/dri:/dev/dri&lt;/span&gt;
&lt;span class="na"&gt;PublishPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;32400:32400/tcp&lt;/span&gt;

&lt;span class="k"&gt;[Service]&lt;/span&gt;
&lt;span class="na"&gt;Restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;always&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;default.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/containers/systemd/tiddlywiki.container&lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;TiddlyWiki&lt;/span&gt;
&lt;span class="na"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;network.target&lt;/span&gt;

&lt;span class="k"&gt;[Container]&lt;/span&gt;
&lt;span class="na"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;docker.io/library/node:lts-alpine&lt;/span&gt;
&lt;span class="na"&gt;AutoUpdate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;registry&lt;/span&gt;

&lt;span class="na"&gt;UserNS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;keep-id&lt;/span&gt;

&lt;span class="na"&gt;Exec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;npx --yes tiddlywiki /wiki --listen host=0.0.0.0 port=8080&lt;/span&gt;

&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/home/server-user/wiki:/wiki:Z&lt;/span&gt;

&lt;span class="na"&gt;PublishPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;80:8080/tcp&lt;/span&gt;

&lt;span class="k"&gt;[Service]&lt;/span&gt;
&lt;span class="na"&gt;Restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;always&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;default.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After updating the Quadlets, reload the systemd daemon and restart the services, and everything should be ready to go. Podman should check for new images daily and restart the services when appropriate.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;daemon-reload

systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;plex.service

systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;tiddlywiki.service
&lt;/pre&gt;&lt;/div&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/auto-update-podman-quadlet-images/</guid>
      <category>home server</category>
      <category>plex</category>
      <category>podman</category>
      <category>system</category>
      <category>tiddlywiki</category>
      <pubDate>Sun, 02 Nov 2025 03:47:00 +0000</pubDate>
    </item>
    <item>
      <title>From Docker Compose to Quadlets</title>
      <link>https://jaysherby.com/from-docker-compose-to-quadlets/</link>
      <description>&lt;p&gt;I recently migrated my home server from Debian 12 to 13 and I decided to ditch Docker for Podman. I've written about some of the differences when moving from Docker to Podman &lt;a href='https://jaysherby.com/tips-for-becoming-a-pod-person/'&gt;previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Here's my old &lt;code&gt;docker-compose.yml&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;plex&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;lscr.io/linuxserver/plex:latest&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;plex&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;# Host networking is simpler than trying to forward everything&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;network_mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;host&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;TZ=America/Chicago&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;VERSION=docker&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;PUID=1000&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;PGID=1000&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/server-user/plex/config:/config&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/media/wd-gold/Television:/tv&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/media/wd-gold/Movies:/movies&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;devices&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/dev/dri:/dev/dri&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;32400:32400/tcp&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;tiddlywiki&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;node:lts-alpine&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;container_name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;tiddlywiki&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;entrypoint&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;npx --yes tiddlywiki /wiki --listen host=0.0.0.0 port=8080 debug-level=debug&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;healthcheck&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nt"&gt;test&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;wget -q --spider -o /dev/null 127.0.0.1:8080 || exit 1&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nt"&gt;interval&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;60s&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="nt"&gt;timeout&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;5s&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;/home/server-user/wiki:/wiki&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;restart&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;unless-stopped&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nt"&gt;ports&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p p-Indicator"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;80:8080/tcp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I've got a Plex server, and a TiddlyWiki running on port 80. This is not a particularly apt use of Docker Compose since I'm only really using it because it's familiar and it lets me bring the server up and down with a single command.&lt;/p&gt;
&lt;p&gt;To move to Podman, I tried what I thought would be the path of least resistance: Podman Compose. It wasn't as turn-key as I would have expected. Because Podman doesn't use a root daemon like Docker, all of my containers would die when I logged out of my user. This wasn't an issue when I used Docker since Docker's daemon was always running. To keep my user session alive, I could have chosen something like &lt;code&gt;nohup&lt;/code&gt;, &lt;code&gt;screen&lt;/code&gt;, or &lt;code&gt;tmux&lt;/code&gt;. I chose instead to turn on lingering for the user with systemd.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;loginctl&lt;span class="w"&gt; &lt;/span&gt;enable-linger&lt;span class="w"&gt; &lt;/span&gt;server-user
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yes, &lt;a href='https://www.youtube.com/watch?v=G6Kspj3OO0s'&gt;I have to let it linger&lt;/a&gt;. RIP Dolores O'Riordan.&lt;/p&gt;
&lt;p&gt;This change at least let me continue limping along with Podman Compose until I had to chance to investigate. Because Podman is not daemon-based, &lt;code&gt;restart: unless-stopped&lt;/code&gt; doesn't work. It also means that my containers don't come back up automatically if I reboot the system. Also, my Plex container doesn't get write access to my media library, meaning I can't delete things from the Plex interface. I've tried adding &lt;code&gt;:rw&lt;/code&gt; and &lt;code&gt;:rw,Z&lt;/code&gt; and &lt;code&gt;:rw,z&lt;/code&gt; to those volumes without effect. I think it's probably because Podman Compose is automatically putting everything into a "pod", which is composed of a "Linux network namespace, IPC namespace, and (optionally) PID namespace" that can be shared between containers. There are ways to configure your compose file so that Podman doesn't do this, but the version of Podman Compose present in Debian's repos doesn't understand those options. I'd have to install a newer version of Podman Compose through pip, for example.&lt;/p&gt;
&lt;p&gt;It was about this point when I figured maybe I was using the wrong tool for the job. I decided to try Quadlets instead. They seem to be the preferred way to orchestrate Podman containers. Podman ships with support for Quadlets included. Quadlets are files that share the syntax of systemd unit files. They are run through a generator that generates actual systemd unit files. From there, the containers are managed just like any other user services, using systemd. What do you expect? Systemd and Podman both come from the folks at &lt;del&gt;Red Hat&lt;/del&gt; IBM.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/containers/systemd/plex.container &lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;Plex Media Server&lt;/span&gt;
&lt;span class="na"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;network.target&lt;/span&gt;

&lt;span class="k"&gt;[Container]&lt;/span&gt;
&lt;span class="na"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;lscr.io/linuxserver/plex:latest&lt;/span&gt;

&lt;span class="na"&gt;Network&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt;
&lt;span class="na"&gt;UserNS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;keep-id&lt;/span&gt;

&lt;span class="na"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;TZ=America/Chicago&lt;/span&gt;
&lt;span class="na"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;VERSION=docker&lt;/span&gt;

&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/home/server-user/plex/config:/config:Z&lt;/span&gt;
&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/media/wd-gold/Television:/tv:Z&lt;/span&gt;
&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/media/wd-gold/Movies:/movies:Z&lt;/span&gt;

&lt;span class="na"&gt;AddDevice&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/dev/dri:/dev/dri&lt;/span&gt;
&lt;span class="na"&gt;PublishPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;32400:32400/tcp&lt;/span&gt;

&lt;span class="k"&gt;[Service]&lt;/span&gt;
&lt;span class="na"&gt;Restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;always&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;default.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I don't think the &lt;code&gt;:Z&lt;/code&gt; is actually doing anything here because I don't think there are any SELinux labels in those paths, but it seems to be considered good practice and I can't imagine it hurts anything.&lt;/p&gt;
&lt;p&gt;This configuration does not exhibit the media deletion issue I experienced with Podman Compose.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Remember to fix permissions if you&amp;#39;re coming from Docker&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;chown&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;server-user:server-user&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/server-user/plex&amp;quot;&lt;/span&gt;

systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;daemon-reload

systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;plex.service
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here's the one for TiddlyWiki:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# /home/server-user/.config/containers/systemd/tiddlywiki.container &lt;/span&gt;
&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;TiddlyWiki&lt;/span&gt;
&lt;span class="na"&gt;After&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;network.target&lt;/span&gt;

&lt;span class="k"&gt;[Container]&lt;/span&gt;
&lt;span class="na"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;docker.io/library/node:lts-alpine&lt;/span&gt;

&lt;span class="na"&gt;UserNS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;keep-id&lt;/span&gt;

&lt;span class="na"&gt;Exec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;npx --yes tiddlywiki /wiki --listen host=0.0.0.0 port=8080&lt;/span&gt;

&lt;span class="na"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/home/server-user/wiki:/wiki:Z&lt;/span&gt;

&lt;span class="na"&gt;PublishPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;80:8080/tcp&lt;/span&gt;

&lt;span class="k"&gt;[Service]&lt;/span&gt;
&lt;span class="na"&gt;Restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;always&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;default.target&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may notice that I don't have a health check for this service like I had for Docker Compose. It doesn't seem like Quadlets have any equivalent functionality. I could certainly create a systemd service by hand to check the service's health, but I was never really reporting or reacting to the health check's status, so I ditched it instead.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Remember to fix permissions if you&amp;#39;re coming from Docker&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;chown&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;server-user:server-user&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/home/server-user/wiki&amp;quot;&lt;/span&gt;

systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;daemon-reload

systemctl&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;tiddlywiki.service
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So far, this setup seems to be working. I plan on adding some more services and features in the future, like Traefik to route services to friendlier mDNS hostnames, and an IRC bouncer service. I'll be sure to write up more posts as I add those.&lt;/p&gt;
&lt;p&gt;While I was tinkering with these Quadlet files, sometimes I'd make a mistake. When a Quadlet file is invalid, the corresponding service is not generated. After running &lt;code&gt;daemon-reload&lt;/code&gt;, trying to start the service would give me a "unit not found" error. To see detailed errors explaining what was wrong with my Quadlet file, I'd run the following command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/usr/libexec/podman/quadlet&lt;span class="w"&gt; &lt;/span&gt;--dryrun&lt;span class="w"&gt; &lt;/span&gt;--user
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These posts I write with the &lt;a href='https://jaysherby.com/blog/?q=home%20server'&gt;#home server&lt;/a&gt; tag are mostly just documentation for myself in the future. My previous posts have already come in handy when I make big changes to my system, like upgrading Debian. I highly recommend documenting your own projects for yourself.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/from-docker-compose-to-quadlets/</guid>
      <category>home server</category>
      <category>podman</category>
      <category>system</category>
      <category>tiddlywiki</category>
      <pubDate>Sun, 26 Oct 2025 00:03:00 +0000</pubDate>
    </item>
    <item>
      <title>MacOS 26 "Tahoe" Applications Menu</title>
      <link>https://jaysherby.com/macos-26-tahoe-applications-menu/</link>
      <description>&lt;p&gt;Apple recently released the newest version of MacOS, "Tahoe", with their latest UI revolution: "liquid glass".&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/liquid-glass-is-great.webp" alt="" title="perfection" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;And it's going great! Everyone just loves it. /s&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;One of the less exciting changes is the replacement of the dedicated applications menu, activated from the "show apps" button on the dock, with the Spotlight search function in an applications-only filter mode. The UI is no longer fullscreen, but seeing as it is Spotlight, MacOS's dedicated search function, the search bar is front and center.&lt;/p&gt;
&lt;p&gt;And that's fine. I don't mind a keyboard-driven UI. There's just one problem...&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/spotlight-application-menu.gif" alt="" /&gt;&lt;/p&gt;
&lt;p&gt;As you can see in the above video, typing anything produces no results. After thinking about this for a bit, I decided to check the Spotlight settings, something I don't recall ever doing before. I'm not what you'd call a frequent Spotlight user.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/spotlight-settings-apps.webp" alt="" title="Apps must be toggled on" /&gt;&lt;/p&gt;
&lt;p&gt;I've highlighted the option "apps" in the "results from system" section of Spotlight's options in the above screenshot. That setting was toggled off. It must be toggled on.&lt;/p&gt;
&lt;p&gt;I don't recall ever changing this option before. As I mentioned, I'm not a frequent Spotlight user. You would think Apple would make sure this was toggled on during the upgrade process to make sure their replacement for the old applications menu was guaranteed to work as expected. I'm not generally a fan of upgrades changing users' preferences, but now that Spotlight is the officially blessed way to launch applications, I can't think of a reason the user would want to prevent Spotlight from building that index. It would be appropriate to deprecate that option and always index installed applications' names.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/macos-26-tahoe-applications-menu/</guid>
      <category>MacOS</category>
      <pubDate>Mon, 29 Sep 2025 22:29:00 +0000</pubDate>
    </item>
    <item>
      <title>How To Add An Existing Git Repo To A Monorepo</title>
      <link>https://jaysherby.com/how-to-add-an-existing-git-repo-to-a-monorepo/</link>
      <description>&lt;p&gt;At several points over the course of my career, I've found myself lifting business logic code out of a monolithic application for the purposes of reuse across multiple applications.&lt;/p&gt;
&lt;p&gt;It's almost never appropriate to simply copy the current snapshot of the files in your main branch to a new directory and &lt;code&gt;git init&lt;/code&gt;. If you leave good commit messages, the repository's commit history can document the reasons why code was changed. You should keep that if you can.&lt;/p&gt;
&lt;p&gt;Depending on the intended consumers of your new business logic library, it may make sense for the new library to live in its own repository. This makes the code migration very easy. Fork the repo and start trimming away the application portions of the code. I've done this several times and the approach works well.&lt;/p&gt;
&lt;p&gt;I recently found myself in need of a more complex migration at $JOB. The code is going to be migrated into an existing monorepo. For the purposes of this example, a repository called &lt;code&gt;alpha&lt;/code&gt; is the existing application from which I'd like to harvest its business logic. A repository called &lt;code&gt;omega&lt;/code&gt; is the monorepo I'm targeting.&lt;/p&gt;
&lt;p&gt;Here's the process I followed to achieve this commit history transplant.&lt;/p&gt;
&lt;h2 id=step-1-add-the-codealphacode-remote-temporarily-to-codeomegacode&gt;Step 1: Add the &lt;code&gt;alpha&lt;/code&gt; remote temporarily to &lt;code&gt;omega&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;Here's how my remote looks before I start:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;remote&lt;span class="w"&gt; &lt;/span&gt;-v
origin&lt;span class="w"&gt;  &lt;/span&gt;git@github.com:hexpunk/omega.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;fetch&lt;span class="o"&gt;)&lt;/span&gt;
origin&lt;span class="w"&gt;  &lt;/span&gt;git@github.com:hexpunk/omega.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;push&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add &lt;code&gt;alpha&lt;/code&gt;'s remote. I'm calling it &lt;code&gt;temp&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;remote&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;temp&lt;span class="w"&gt; &lt;/span&gt;git@github.com:hexpunk/alpha.git
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionally confirm it worked.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;remote&lt;span class="w"&gt; &lt;/span&gt;-v
origin&lt;span class="w"&gt;  &lt;/span&gt;git@github.com:hexpunk/omega.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;fetch&lt;span class="o"&gt;)&lt;/span&gt;
origin&lt;span class="w"&gt;  &lt;/span&gt;git@github.com:hexpunk/omega.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;push&lt;span class="o"&gt;)&lt;/span&gt;
temp&lt;span class="w"&gt;    &lt;/span&gt;git@github.com:hexpunk/alpha.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;fetch&lt;span class="o"&gt;)&lt;/span&gt;
temp&lt;span class="w"&gt;    &lt;/span&gt;git@github.com:hexpunk/alpha.git&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;push&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And don't forget to fetch from the new remote before continuing so branches from the new remote can be referenced.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;fetch&lt;span class="w"&gt; &lt;/span&gt;temp
From&lt;span class="w"&gt; &lt;/span&gt;github.com:hexpunk/alpha
&lt;span class="w"&gt; &lt;/span&gt;*&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;branch&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;main&lt;span class="w"&gt;                                                            &lt;/span&gt;-&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;temp/main
&lt;span class="w"&gt; &lt;/span&gt;*&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;branch&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt;        &lt;/span&gt;staging&lt;span class="w"&gt;                                                         &lt;/span&gt;-&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;temp/staging
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=step-2-make-a-new-branch-for-this&gt;Step 2: Make a new branch for this&lt;/h2&gt;&lt;p&gt;Nothing particularly unusual here. Make a new branch for this change and switch to it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;switch&lt;span class="w"&gt; &lt;/span&gt;-c&lt;span class="w"&gt; &lt;/span&gt;import-alpha&lt;span class="w"&gt; &lt;/span&gt;main
Switched&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;new&lt;span class="w"&gt; &lt;/span&gt;branch&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;import-alpha&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=step-3-use-the-git-subtree-command-to-import-all-files-and-their-histories&gt;Step 3: Use the git subtree command to import all files and their histories&lt;/h2&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;subtree&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;--prefix&lt;span class="o"&gt;=&lt;/span&gt;applications/alpha/&lt;span class="w"&gt; &lt;/span&gt;temp/main
Added&lt;span class="w"&gt; &lt;/span&gt;dir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;applications/alpha&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can see here that I've imported all of &lt;code&gt;alpha&lt;/code&gt;'s main branch (using the &lt;code&gt;temp&lt;/code&gt; remote name) to the path &lt;code&gt;applications/alpha&lt;/code&gt;. This brings all files' histories with it and adds a new commit with a commit message that looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Add &amp;#39;applications/alpha/&amp;#39; from commit &amp;#39;123bf0fd7a82a76743adb0ce224a1987fe754093&amp;#39;

git-subtree-dir: applications/alpha
git-subtree-mainline: a2ac8af27a38f08d4774a4338c5c4a6ed0f24ff0
git-subtree-split: 123bf0fd7a82a76743adb0ce224a1987fe754093
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Those three lines at the end are called &lt;a href='https://git-scm.com/docs/git-interpret-trailers'&gt;trailers&lt;/a&gt; and they're a powerful and often overlooked feature of git commit messages.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;These&lt;/em&gt; trailers are an artifact of the &lt;code&gt;git subtree&lt;/code&gt; command, a contributed shell script that ships with git. It was written by Avery Pennarun, co-founder and CEO of Tailscale. Huh. It's worth a peruse of &lt;a href='https://manpage.me/?q=git-subtree'&gt;its man page&lt;/a&gt; because it's a powerful tool for situations like this one.&lt;/p&gt;
&lt;h2 id=step-4-remove-the-temporary-remote&gt;Step 4: Remove the temporary remote&lt;/h2&gt;&lt;p&gt;Now is as good a time as any to remember to remove that temporary remote I added since I won't need it anymore.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;remote&lt;span class="w"&gt; &lt;/span&gt;remove&lt;span class="w"&gt; &lt;/span&gt;temp
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=step-5-push-your-branch-to-remote&gt;Step 5: Push your branch to remote&lt;/h2&gt;&lt;p&gt;Nothing unusual here, either. I'm just getting ready to make a pull request.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~/omega$&lt;span class="w"&gt; &lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;push&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;origin&lt;span class="w"&gt; &lt;/span&gt;import-alpha
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=step-6-make-your-pull-request-emwithout-squashing-commitsem&gt;Step 6: Make your pull request &lt;em&gt;WITHOUT SQUASHING COMMITS!!!&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;The only thing you must remember to do differently compared to most pull requests is this: &lt;strong&gt;&lt;em&gt;DO NOT SQUASH COMMITS ON MERGE&lt;/em&gt;&lt;/strong&gt;. I cannot overstate how important this is.
Depending on the repository, "squash commits" may be enabled by default for pull requests. Although this may be preferred for typical feature and bugfix merge flows, it would defeat the point of this entire exercise by squashing away all of that beautiful commit history I just worked so hard to maintain.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/repo_settings.png" alt="" title="repository setting for squash commits by default" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/merge_request.png" alt="" title="the squash commits option in the merge request (hi, gitlab!) is unchecked" /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;git subtree&lt;/code&gt; command actually has a &lt;code&gt;--squash&lt;/code&gt; option that I specifically chose not to use. Squashing commits from subtree commands makes sense if I was going to use this as an alternative to &lt;code&gt;git submodule&lt;/code&gt;, which is the situation most prominently described in the documentation. In my case, having the files' histories ride along with them as they're assimilated into the monorepo is precisely the value of this operation.&lt;/p&gt;
&lt;h2 id=step-7-diligently-isolate-the-renaming-of-files-within-their-own-commits&gt;Step 7: Diligently isolate the renaming of files within their own commits&lt;/h2&gt;&lt;p&gt;Wouldn't it be terrible if I did all of this work to keep files' histories just to throw it all away? That's why I need to be really strict with myself as I move and rename files and directories. Git is really good at recognizing file movement as long as it happens in isolated commits. If I were to move the file &lt;em&gt;and&lt;/em&gt; change its contents, I risk the history looking like a delete and a create instead of a rename, which will essentially launder the history of the file for common file-wise history tools like &lt;code&gt;git blame&lt;/code&gt;.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/how-to-add-an-existing-git-repo-to-a-monorepo/</guid>
      <category>git</category>
      <pubDate>Sat, 05 Jul 2025 20:38:00 +0000</pubDate>
    </item>
    <item>
      <title>Fixing "Open in Terminal" in Pop!_OS</title>
      <link>https://jaysherby.com/fixing-open-in-terminal-in-pop_os/</link>
      <description>&lt;p&gt;Pop!_OS has this feature in its file manager, Nautilus, that allows you to open a terminal in the current directory using the context menu's "Open in Terminal" option. This is provided by a package called &lt;code&gt;nautilus-extension-gnome-terminal&lt;/code&gt;. It opens a new &lt;code&gt;gnome-terminal&lt;/code&gt; using the &lt;code&gt;--working-directory&lt;/code&gt; command line option set to the directory currently open in Nautilus.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/nautilus-open-in-terminal.png" alt="nautilus-open-in-terminal" /&gt;&lt;/p&gt;
&lt;p&gt;I don't know when this stopped working properly, but I noticed the issue this evening. It will open a terminal window, but the resulting shell session no longer seems to open in the requested directory.&lt;/p&gt;
&lt;p&gt;I futzed with it quite a bit. It will work properly if I run &lt;code&gt;gnome-terminal --working-directory=&amp;quot;$PWD&amp;quot; -- bash --norc&lt;/code&gt;, which led me to believe that it had something to do with my &lt;code&gt;.bashrc&lt;/code&gt; file. It turns out it has nothing to do with my &lt;code&gt;.bashrc&lt;/code&gt; file because removing my &lt;code&gt;.bashrc&lt;/code&gt; file entirely does not fix it.&lt;/p&gt;
&lt;p&gt;My fix (or at least workaround) was to change my gnome-terminal profile setting "Preserve working directory" from "Shell only" to "Always". That seems to do the trick.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/jaysherby/gnome-terminal-preferences.png" alt="gnome-terminal-preferences" /&gt;&lt;/p&gt;
&lt;p&gt;This feels really familiar like I've had to deal with it before, but I never blogged about it. It doesn't look like anything has recently changed that would have caused this to suddenly happen. This feature was added to &lt;code&gt;gnome-terminal&lt;/code&gt; &lt;a href='https://gitlab.gnome.org/GNOME/gnome-terminal/-/issues/126'&gt;more than 4 years ago&lt;/a&gt;. All relevant packages (&lt;code&gt;gnome-terminal&lt;/code&gt;, &lt;code&gt;nautilus&lt;/code&gt;, &lt;code&gt;nautilus-extension-gnome-terminal&lt;/code&gt;) haven't been updated in more than 6 months. Maybe I just noticed it for the first time on this machine tonight, but it's been like that the whole time. ðŸ¤·&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/fixing-open-in-terminal-in-pop_os/</guid>
      <category>gnome-terminal</category>
      <category>nautilus</category>
      <category>pop_os</category>
      <pubDate>Fri, 20 Jun 2025 04:08:00 +0000</pubDate>
    </item>
    <item>
      <title>Adopt These Trackers</title>
      <link>https://jaysherby.com/adopt-these-trackers/</link>
      <description>&lt;p&gt;A recent blog post by Kian Bradley called &lt;a href='https://kianbradley.com/2025/06/15/resurrecting-a-dead-tracker.html'&gt;"Resurrecting a dead torrent tracker and finding 3 million peers"&lt;/a&gt; is making the rounds and it captured my imagination. There's something undeniably punk rock about adopting a dead tracker and bringing it back to life.&lt;/p&gt;
&lt;p&gt;I was curious how someone might find old tracker domains to resurrect, though. Kian seemed to find his through natural usage of BitTorrent. I had a different idea.&lt;/p&gt;
&lt;p&gt;&lt;a href='https://github.com/ngosang/trackerslist'&gt;This git repository&lt;/a&gt; has an automatically updated list of valid tracker URLs as well as an automatically updated block list. It also has 50k stars on GitHub, so I figure it's a decent source of data.&lt;/p&gt;
&lt;p&gt;I vibe-coded up a &lt;a href='https://www.nushell.sh/'&gt;Nushell&lt;/a&gt; script that will look through the git history for tracker domain names that were removed from the tracker list but never added to the block list. Finally, it writes out the results in files of max 100 entries because the final step is embarrassingly manual. I checked the removed but not blocked domains in the bulk search feature of my preferred registrar, who limits bulk search to 100 entries at a time.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#!/bin/env nu

def parse_file [path: string] {
  open $path
  | str replace &amp;#39;\n\n+&amp;#39; &amp;#39;\n&amp;#39;
  | lines
  | str trim
  | where {|x| $x != &amp;quot;&amp;quot;}
  | uniq
}

def get_all_commits [] {
  ^git rev-list master
  | lines
}

def build_blacklist_set [] {
  get_all_commits
  | each {|rev|
      let file = (try { ^git show $&amp;quot;($rev):blacklist.txt&amp;quot; } catch { &amp;quot;&amp;quot; })
      $file
      | lines
      | str trim
      | where {|x| $x != &amp;quot;&amp;quot;}
  }
  | flatten
  | uniq
}

def main [] {
  let all_commits = (get_all_commits | reverse)
  let blacklist_set = (build_blacklist_set)

  mut prev_trackers = []
  mut removed_total = []

  for commit in $all_commits {
    let file = (try { ^git show $&amp;quot;($commit):trackers_all.txt&amp;quot; } catch { &amp;quot;&amp;quot; })
    let trackers = (
      $file
      | str replace &amp;#39;\n\n+&amp;#39; &amp;#39;\n&amp;#39;
      | lines
      | str trim
      | where {|x| $x != &amp;quot;&amp;quot;}
      | uniq
    )

    if ($prev_trackers | length) &amp;gt; 0 {
      let removed = ($prev_trackers | where {|x| not ($trackers | any {|y| $y == $x }) })
      $removed_total = ($removed_total | append $removed)
    }

    $prev_trackers = $trackers
  }

  let final_list = (
    $removed_total
    | flatten
    | uniq
    | where {|x| not ($blacklist_set | any {|y| $y == $x }) }
    | parse -r &amp;#39;(?P&amp;lt;uri&amp;gt;.+)&amp;#39;  # ensure strings not treated as plain
    | each {|row|
        let host = (try { $row.uri | url parse | get host } catch { &amp;quot;&amp;quot; })
        let parts = ($host | split row &amp;quot;.&amp;quot;)
        if ($parts | length) &amp;gt;= 2 {
          let root = ($parts | last 2 | str join &amp;quot;.&amp;quot;)
          $root
        } else {
          $host  # fallback to full host if malformed
        }
    }
    | uniq
  )

  # Save output in batches of 100
  let chunked = ($final_list | chunks 100)

  let saved_files = $chunked
  | enumerate
  | each {|row|
      let idx = $row.index
      let part = $row.item
      let filename = $&amp;quot;output_part_($idx | fill -c &amp;#39;0&amp;#39; -w 3).txt&amp;quot;
      $part | str join &amp;quot;\n&amp;quot; | save --force $filename
      $filename
  }

  $saved_files
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a little copy-pasta, here are the available domain names that were once trackers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;edoardocolombo.eu&lt;/li&gt;
&lt;li&gt;poweredcore.com&lt;/li&gt;
&lt;li&gt;demonoid.ooo&lt;/li&gt;
&lt;li&gt;bluefrog.pw&lt;/li&gt;
&lt;li&gt;bittor.xyz&lt;/li&gt;
&lt;li&gt;grifon.info&lt;/li&gt;
&lt;li&gt;facedatabg.net&lt;/li&gt;
&lt;li&gt;dl1234.com&lt;/li&gt;
&lt;li&gt;torrentsnows.com&lt;/li&gt;
&lt;li&gt;torrentclub.tech&lt;/li&gt;
&lt;li&gt;nullrebel.com&lt;/li&gt;
&lt;li&gt;value-wolf.org&lt;/li&gt;
&lt;li&gt;handrew.me&lt;/li&gt;
&lt;li&gt;derpyradio.net&lt;/li&gt;
&lt;li&gt;100.pet&lt;/li&gt;
&lt;li&gt;sleepyinternetfun.xyz&lt;/li&gt;
&lt;li&gt;nrx.me&lt;/li&gt;
&lt;li&gt;highstar.shop&lt;/li&gt;
&lt;li&gt;oldboystudy.com&lt;/li&gt;
&lt;li&gt;chennuo.xyz&lt;/li&gt;
&lt;li&gt;120181311.xyz&lt;/li&gt;
&lt;li&gt;chouchou.top&lt;/li&gt;
&lt;li&gt;buddyfly.top&lt;/li&gt;
&lt;li&gt;torrentclub.space&lt;/li&gt;
&lt;li&gt;arcbox.cc&lt;/li&gt;
&lt;li&gt;trojangogogo.site&lt;/li&gt;
&lt;li&gt;sheesh.rip&lt;/li&gt;
&lt;li&gt;market-re.quest&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This was a quick little project that took me all of 20 minutes to satisfy my curiosity. If I cared more deeply about answering this question, I might be inclined to try to scrape torrent search websites to collect tracker URLs from their &lt;a href='https://en.wikipedia.org/wiki/Magnet_URI_scheme'&gt;magnet links&lt;/a&gt; instead of relying on one GitHub repository. I'd also want to figure out a way to automate checking if domains are available for sale. That data appears to be gated behind services that require registration and might cost money.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/adopt-these-trackers/</guid>
      <category>bittorrent</category>
      <category>nushell</category>
      <pubDate>Wed, 18 Jun 2025 03:38:00 +0000</pubDate>
    </item>
    <item>
      <title>Don't Rely On mtime For Anything Important</title>
      <link>https://jaysherby.com/dont-rely-on-mtime-for-anything-important/</link>
      <description>&lt;p&gt;Rachel Kroll posted &lt;a href='https://rachelbythebay.com/w/2025/05/31/sync/'&gt;"rsync's defaults are not always enough"&lt;/a&gt; on her well-known blog yesterday. Everything she said is true. It's a short post, just over 500 words. Go read it.&lt;/p&gt;
&lt;p&gt;The gist is that venerable data transfer application &lt;code&gt;rsync&lt;/code&gt; by default only compares the file size and modification time (mtime) to decide if a file has differed between the source and destination. There is an option to compare files by checksum instead. In the &lt;code&gt;rsync&lt;/code&gt; man page, it shows the option &lt;code&gt;--checksum, -c&lt;/code&gt;: "skip based on checksum, not mod-time &amp; size".&lt;/p&gt;
&lt;p&gt;In Rachel's case, a particular file's contents had changed, but the overall file size hadn't changed, &lt;em&gt;and the mtime hadn't changed&lt;/em&gt;. The first part makes sense. If you swap one byte in a file with another byte, the file's contents have changed but its overall size has not. But how would the mtime stay the same? Probably shenanigans from a human being somewhere. But let's stop a moment and answer the question...&lt;/p&gt;
&lt;h2 id=what-is-mtime&gt;What is mtime?&lt;/h2&gt;&lt;p&gt;Depending on the features of the file system being used, there may be lots of metadata attached to a file. Speaking broadly, most file systems used with *nix operating systems include things like the owning user's id, the owning group's id, read/write/execute permissions, atime, and mtime.&lt;/p&gt;
&lt;p&gt;Atime stands for access time. Whenever a file is read, the atime is updated. This is theoretically great for audit logging, except that it doesn't tell you &lt;em&gt;who&lt;/em&gt; accessed the file, and it creates a lot of disk activity overhead. Imagine having to write to disk every time you read from disk. That's why this option is usually disabled by default in most modern systems I've used.&lt;/p&gt;
&lt;p&gt;The very fact that a configuration option can disable one of these should automatically give you trust issues.&lt;/p&gt;
&lt;p&gt;Mtime, as previously established, stands for modification time. But what does that really mean? I'm running Pop!_OS and the oldest file on my system is &lt;code&gt;/usr/share/doc/cron/THANKS&lt;/code&gt; from September 1st, 1994. But I bought this laptop earlier this year! I doubt there's a single part inside that was manufactured before 2023. SSDs didn't even exist in 1994. How could this file's mtime be from the mid-1990s?&lt;/p&gt;
&lt;p&gt;Here's our first problem. Is mtime supposed to represent the last time the file was modified &lt;em&gt;anywhere&lt;/em&gt; or when it was modified on this particular storage device? I guess that's up for interpretation. When you transfer files using &lt;code&gt;rsync&lt;/code&gt;'s archive mode (&lt;code&gt;--archive, -a&lt;/code&gt;), it copies metadata from the source to the destination exactly, including the mtime. This is also true when files are untarballed. So, depending on how a file arrived onto your hard disk, its mtime may predate your device.&lt;/p&gt;
&lt;p&gt;Our second problem is the &lt;code&gt;touch&lt;/code&gt; command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;NAME
     touch - change file access and modification times
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This command, available to every user to use on any file they can write to, is explicitly for modifying atime and mtime. Here's a bit of an ontological question. If I can update the modification time of a file without actually modifying the contents of the file, does mtime still have any real meaning?&lt;/p&gt;
&lt;p&gt;The most common usage of &lt;code&gt;touch&lt;/code&gt; is with default settings, &lt;code&gt;touch filename&lt;/code&gt;, which simply updates mtime to the current date and time. However, it's not like it's hard to change mtime to whatever value you want.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;jaysherby@framework13:~$&lt;span class="w"&gt; &lt;/span&gt;touch&lt;span class="w"&gt; &lt;/span&gt;filename
jaysherby@framework13:~$&lt;span class="w"&gt; &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;-lah&lt;span class="w"&gt; &lt;/span&gt;filename
-rw-rw-r--&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jaysherby&lt;span class="w"&gt; &lt;/span&gt;jaysherby&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Jun&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;:54&lt;span class="w"&gt; &lt;/span&gt;filename
jaysherby@framework13:~$&lt;span class="w"&gt; &lt;/span&gt;touch&lt;span class="w"&gt; &lt;/span&gt;--date&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1970-01-01 16:20:00 UTC&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;filename
jaysherby@framework13:~$&lt;span class="w"&gt; &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;-lah&lt;span class="w"&gt; &lt;/span&gt;filename
-rw-rw-r--&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;jaysherby&lt;span class="w"&gt; &lt;/span&gt;jaysherby&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Jan&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1970&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;filename
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It's just that easy to forge a file's mtime. I suspect that's what happened to Rachel's system file. Why would someone change a file's contents making sure not to change its length and then modify its mtime to match the file before the change occurred? It seems very suspicious if not necessarily malicious.&lt;/p&gt;
&lt;p&gt;Mtime is so notoriously unreliable that &lt;code&gt;git&lt;/code&gt;, for example, keeps its own internal file modification timestamp records and notably does not update mtime values to match its internal records. I found this out once upon a time when I was curious about the oldest files in a repository and found that I had to parse git logs to do so.&lt;/p&gt;
&lt;h2 id=what-checksum-does-codersynccode-use&gt;What checksum does &lt;code&gt;rsync&lt;/code&gt; use?&lt;/h2&gt;&lt;p&gt;I was curious about this. It seems that when you pass one of the &lt;code&gt;--checksum, -c&lt;/code&gt; flags, &lt;code&gt;rsync&lt;/code&gt; defaults to using MD5, which is probably fine. But if you don't like it and would prefer something else, there's also the &lt;code&gt;--checksum-choice=STR&lt;/code&gt; flag: "choose the checksum algorithm (aka --cc)". You can run &lt;code&gt;rsync --version&lt;/code&gt; locally to see what algorithms your version of &lt;code&gt;rsync&lt;/code&gt; supports. My local copy supports some xxhash algorithms, MD5, MD4, and SHA1.&lt;/p&gt;
&lt;h2 id=will-this-prevent-corruptions-during-transfer-like-bittorrent&gt;Will this prevent corruptions during transfer, like BitTorrent?&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;No.&lt;/strong&gt; The checksum is only run on files &lt;em&gt;before&lt;/em&gt; transfer to determine if the destination file needs to be updated. It does not compare checksums after transfer has completed.&lt;/p&gt;
&lt;p&gt;This is important for my use cases. I'm usually using &lt;code&gt;rsync&lt;/code&gt; to move files from one place to another, not to back them up. That means I will delete the source files after the transfer is complete. I have been bitten by this before when files end up mysteriously corrupted. That's why I know so much about this aspect of the &lt;code&gt;rsync&lt;/code&gt; tool.&lt;/p&gt;
&lt;p&gt;Think about the complete path a file needs to traverse when it's transferred via &lt;code&gt;rsync&lt;/code&gt;.  To goes from the disk, to memory, through application code, over the network, through application code, to memory, to disk. There are several places in that pipeline where something could technically go wrong and I'd never know.&lt;/p&gt;
&lt;p&gt;You can create your own utility or script to hash the files on both sides afterwards and compare them, or you can just run the &lt;code&gt;rsync&lt;/code&gt; command again. I do the latter due to simplicity. If everything transferred fine the first time, nothing should need to be transferred on the second run. After that, I feel safe deleting the local copy of the files.&lt;/p&gt;
&lt;p&gt;I don't think &lt;code&gt;rsync&lt;/code&gt; or network issues were at fault for the occasional file corruptions I've experienced, but it's nice to be able to reasonably rule it out.&lt;/p&gt;
&lt;p&gt;Don't use mtime for anything important. Its meaning is debatable, and it's a convenient fiction at best.&lt;/p&gt;
</description>
      <author>hidden (jaysherby)</author>
      <guid isPermaLink="false">https://jaysherby.com/dont-rely-on-mtime-for-anything-important/</guid>
      <category>rsync</category>
      <pubDate>Sun, 01 Jun 2025 21:12:00 +0000</pubDate>
    </item>
  </channel>
</rss>
